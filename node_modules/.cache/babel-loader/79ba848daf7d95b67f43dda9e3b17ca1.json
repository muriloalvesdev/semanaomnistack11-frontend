{"ast":null,"code":"import _regeneratorRuntime from\"/Users/muriloalves/Documents/Murilo/OmniStack/github/semanaomnistack11-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/muriloalves/Documents/Murilo/OmniStack/github/semanaomnistack11-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/muriloalves/Documents/Murilo/OmniStack/github/semanaomnistack11-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import heroesImg from'../../assets/heroes.png';import logoImg from\"../../assets/logo.svg\";import{FiLogIn}from'react-icons/fi';import{Link,useHistory}from'react-router-dom';import'./styles.css';import api from'../../services/api';export default function Logon(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];function handleLogin(_x){return _handleLogin.apply(this,arguments);}function _handleLogin(){_handleLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;if(!(id==='')){_context.next=6;break;}alert('Informe seu ID');_context.next=12;break;case 6:_context.next=8;return api.post('session/',{id:id});case 8:response=_context.sent;localStorage.setItem('ongId',id);localStorage.setItem('ongName',response.data.name);history.push('/profile');case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);alert('Falha no login, tente novamente');case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,14]]);}));return _handleLogin.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"logon-container\"},/*#__PURE__*/React.createElement(\"section\",{className:\"form\"},/*#__PURE__*/React.createElement(\"img\",{src:logoImg,alt:\"Be The Hero\"}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleLogin},/*#__PURE__*/React.createElement(\"h1\",null,\"Fa\\xE7a seu logon\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Sua ID\",value:id,onChange:function onChange(e){return setId(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",type:\"submit\"},\"Entrar\"),/*#__PURE__*/React.createElement(Link,{className:\"back-link\",to:\"/register\"},/*#__PURE__*/React.createElement(FiLogIn,{size:16,color:\"#E02041\"}),\"N\\xE3o tenho cadastro\"))),/*#__PURE__*/React.createElement(\"img\",{src:heroesImg,alt:\"Heroes\"}));}","map":{"version":3,"sources":["/Users/muriloalves/Documents/Murilo/OmniStack/github/semanaomnistack11-frontend/src/pages/Logon/index.js"],"names":["React","useState","heroesImg","FiLogIn","Link","useHistory","api","Logon","history","id","setId","handleLogin","e","preventDefault","alert","post","response","localStorage","setItem","data","name","push","logoImg","target","value"],"mappings":"+kBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,C,2CAGA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC5B,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CAD4B,cAERJ,QAAQ,CAAC,EAAD,CAFA,wCAErBQ,EAFqB,eAEjBC,KAFiB,uBAIbC,CAAAA,WAJa,6IAI5B,iBAA2BC,CAA3B,+HACIA,CAAC,CAACC,cAAF,GADJ,qBAIWJ,EAAE,GAAK,EAJlB,0BAKYK,KAAK,CAAC,gBAAD,CAAL,CALZ,oDAOmCR,CAAAA,GAAG,CAACS,IAAJ,CAAS,UAAT,CAAqB,CAAEN,EAAE,CAAFA,EAAF,CAArB,CAPnC,QAOkBO,QAPlB,eAQYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BT,EAA9B,EACAQ,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAgCF,QAAQ,CAACG,IAAT,CAAcC,IAA9C,EAEAZ,OAAO,CAACa,IAAR,CAAa,UAAb,EAXZ,yFAcQP,KAAK,CAAC,iCAAD,CAAL,CAdR,qEAJ4B,8CAsB5B,mBACI,2BAAK,SAAS,CAAC,iBAAf,eACI,+BAAS,SAAS,CAAC,MAAnB,eACI,2BAAK,GAAG,CAAEQ,OAAV,CAAmB,GAAG,CAAC,aAAvB,EADJ,cAEI,4BAAM,QAAQ,CAAEX,WAAhB,eACI,kDADJ,cAEI,6BACI,WAAW,CAAC,QADhB,CAEI,KAAK,CAAEF,EAFX,CAGI,QAAQ,CAAE,kBAAAG,CAAC,QAAIF,CAAAA,KAAK,CAACE,CAAC,CAACW,MAAF,CAASC,KAAV,CAAT,EAHf,EAFJ,cAOI,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,WAPJ,cAQI,oBAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,CAA4B,EAAE,CAAC,WAA/B,eACI,oBAAC,OAAD,EAAS,IAAI,CAAE,EAAf,CAAmB,KAAK,CAAC,SAAzB,EADJ,yBARJ,CAFJ,CADJ,cAiBI,2BAAK,GAAG,CAAEtB,SAAV,CAAqB,GAAG,CAAC,QAAzB,EAjBJ,CADJ,CAqBH","sourcesContent":["import React, {useState} from 'react';\nimport heroesImg from '../../assets/heroes.png';\nimport logoImg from '../../assets/logo.svg';\n\nimport { FiLogIn } from 'react-icons/fi';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport './styles.css';\nimport api from '../../services/api';\n\nexport default function Logon (){\n    const history = useHistory();\n    const [id, setId] = useState('');\n\n    async function handleLogin(e){\n        e.preventDefault();\n\n        try{\n            if(id === ''){\n                alert('Informe seu ID');\n            }else{\n                const response = await api.post('session/', { id });\n                localStorage.setItem('ongId', id);\n                localStorage.setItem('ongName', response.data.name);\n\n                history.push('/profile');\n            }\n        }catch(ex){\n            alert('Falha no login, tente novamente');\n        }\n    }\n\n    return (\n        <div className=\"logon-container\">\n            <section className=\"form\">\n                <img src={logoImg} alt=\"Be The Hero\"/>\n                <form onSubmit={handleLogin}>\n                    <h1>Faça seu logon</h1>\n                    <input \n                        placeholder=\"Sua ID\"\n                        value={id}\n                        onChange={e => setId(e.target.value)}\n                    />\n                    <button className=\"button\" type=\"submit\">Entrar</button>\n                    <Link className=\"back-link\" to=\"/register\">\n                        <FiLogIn size={16} color=\"#E02041\"/>\n                        Não tenho cadastro\n                    </Link>\n                </form>\n            </section>\n            <img src={heroesImg} alt=\"Heroes\"/>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}