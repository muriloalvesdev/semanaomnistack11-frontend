{"ast":null,"code":"import _regeneratorRuntime from\"/Users/muriloalves/Documents/Murilo/OmniStack/github/semanaomnistack11-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/muriloalves/Documents/Murilo/OmniStack/github/semanaomnistack11-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/muriloalves/Documents/Murilo/OmniStack/github/semanaomnistack11-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./styles.css';import{Link,useHistory}from'react-router-dom';import{FiArrowLeft}from'react-icons/fi';import logoImg from\"../../assets/logo.svg\";import api from'../../services/api';export default function NewIncident(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var history=useHistory();var ongId=localStorage.getItem('ongId');function handleNewInstance(_x){return _handleNewInstance.apply(this,arguments);}function _handleNewInstance(){_handleNewInstance=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data={title:title,description:description,value:value};_context.prev=2;if(!(title===''||description===''||value==='')){_context.next=7;break;}alert('Preencha todos os campos corretamente!');_context.next=10;break;case 7:_context.next=9;return api.post('incidents',data,{headers:{Authorization:ongId}});case 9:history.push('/profile');case 10:_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);alert('Erro ao cadastrar caso, tente novamente');case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return _handleNewInstance.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"new-incident-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"img\",{src:logoImg,alt:\"Be The Hero\"}),/*#__PURE__*/React.createElement(\"h1\",null,\"Cadastrar novo caso\"),/*#__PURE__*/React.createElement(\"p\",null,\"Descreva o caso detalhadamente para encontrar um her\\xF3i para resolver isso.\"),/*#__PURE__*/React.createElement(Link,{className:\"back-link\",to:\"/profile\"},/*#__PURE__*/React.createElement(FiArrowLeft,{size:16,color:\"#E02041\"}),\"Voltar para Home\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleNewInstance},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"T\\xEDtulo do caso\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"Descri\\xE7\\xE3o\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Preencha o valor sem v\\xEDrgulas, ex: 100\",value:value,onChange:function onChange(e){return setValue(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",type:\"submit\"},\"Cadastrar\"))));}","map":{"version":3,"sources":["/Users/muriloalves/Documents/Murilo/OmniStack/github/semanaomnistack11-frontend/src/pages/NewIncident/index.js"],"names":["React","useState","Link","useHistory","FiArrowLeft","api","NewIncident","title","setTitle","description","setDescription","value","setValue","history","ongId","localStorage","getItem","handleNewInstance","e","preventDefault","data","alert","post","headers","Authorization","push","logoImg","target"],"mappings":"+kBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CAEA,MAAO,cAAP,CAEA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,WAAT,KAA4B,gBAA5B,C,2CAIA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CAEA,cAAe,SAASC,CAAAA,WAAT,EAAsB,eAERL,QAAQ,CAAC,EAAD,CAFA,wCAE3BM,KAF2B,eAEpBC,QAFoB,8BAGIP,QAAQ,CAAC,EAAD,CAHZ,yCAG3BQ,WAH2B,eAGdC,cAHc,8BAIRT,QAAQ,CAAC,EAAD,CAJA,yCAI3BU,KAJ2B,eAIpBC,QAJoB,eAKjC,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CACA,GAAMW,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CANiC,QAQlBC,CAAAA,iBARkB,+JAQjC,iBAAiCC,CAAjC,2HACIA,CAAC,CAACC,cAAF,GACMC,IAFV,CAEiB,CACTb,KAAK,CAALA,KADS,CAETE,WAAW,CAAXA,WAFS,CAGTE,KAAK,CAALA,KAHS,CAFjB,sBAQWJ,KAAK,GAAK,EAAV,EAAgBE,WAAW,GAAK,EAAhC,EAAsCE,KAAK,GAAK,EAR3D,0BASYU,KAAK,CAAC,wCAAD,CAAL,CATZ,oDAWkBhB,CAAAA,GAAG,CAACiB,IAAJ,CAAS,WAAT,CAAsBF,IAAtB,CAA4B,CAC9BG,OAAO,CAAE,CACLC,aAAa,CAAEV,KADV,CADqB,CAA5B,CAXlB,QAiBYD,OAAO,CAACY,IAAR,CAAa,UAAb,EAjBZ,yFAoBQJ,KAAK,CAAC,yCAAD,CAAL,CApBR,qEARiC,oDA+BjC,mBACI,2BAAK,SAAS,CAAC,wBAAf,eACI,2BAAK,SAAS,CAAC,SAAf,eACI,gDACI,2BAAK,GAAG,CAAEK,OAAV,CAAmB,GAAG,CAAC,aAAvB,EADJ,cAEI,oDAFJ,cAGI,6GAHJ,cAKI,oBAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,CAA4B,EAAE,CAAC,UAA/B,eACI,oBAAC,WAAD,EAAa,IAAI,CAAE,EAAnB,CAAuB,KAAK,CAAC,SAA7B,EADJ,oBALJ,CADJ,cAYI,4BAAM,QAAQ,CAAET,iBAAhB,eACI,6BACI,WAAW,CAAC,mBADhB,CAEI,KAAK,CAAEV,KAFX,CAGI,QAAQ,CAAE,kBAAAW,CAAC,QAAIV,CAAAA,QAAQ,CAACU,CAAC,CAACS,MAAF,CAAShB,KAAV,CAAZ,EAHf,EADJ,cAMI,gCACI,WAAW,CAAC,iBADhB,CAEI,KAAK,CAAEF,WAFX,CAGI,QAAQ,CAAE,kBAAAS,CAAC,QAAIR,CAAAA,cAAc,CAACQ,CAAC,CAACS,MAAF,CAAShB,KAAV,CAAlB,EAHf,EANJ,cAWI,6BACI,WAAW,CAAC,2CADhB,CAEI,KAAK,CAAEA,KAFX,CAGI,QAAQ,CAAE,kBAAAO,CAAC,QAAIN,CAAAA,QAAQ,CAACM,CAAC,CAACS,MAAF,CAAShB,KAAV,CAAZ,EAHf,EAXJ,cAiBI,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,cAjBJ,CAZJ,CADJ,CADJ,CAoCH","sourcesContent":["import React, {useState} from 'react';\n\nimport './styles.css';\n\nimport { Link, useHistory } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\n\nimport logoImg from '../../assets/logo.svg';\n\nimport api from '../../services/api';\n\nexport default function NewIncident(){\n\n    const[title, setTitle] = useState('');\n    const[description, setDescription] = useState('');\n    const[value, setValue] = useState('');\n    const history = useHistory();\n    const ongId = localStorage.getItem('ongId');\n\n    async function handleNewInstance(e){\n        e.preventDefault();\n        const data = {\n            title,\n            description,\n            value,\n        };\n        try{\n            if(title === '' || description === '' || value === ''){\n                alert('Preencha todos os campos corretamente!');\n            }else{\n                await api.post('incidents', data, {\n                    headers: {\n                        Authorization: ongId,\n                    }\n                });\n\n                history.push('/profile');\n            }\n        }catch(ex){\n            alert('Erro ao cadastrar caso, tente novamente');\n        }\n    }\n    return (\n        <div className=\"new-incident-container\">\n            <div className=\"content\">\n                <section>\n                    <img src={logoImg} alt=\"Be The Hero\"/>\n                    <h1>Cadastrar novo caso</h1>\n                    <p>Descreva o caso detalhadamente para encontrar um herói para resolver isso.</p>\n                \n                    <Link className=\"back-link\" to=\"/profile\">\n                        <FiArrowLeft size={16} color=\"#E02041\"/>\n                        Voltar para Home\n                    </Link>\n                </section>\n\n                <form onSubmit={handleNewInstance}>\n                    <input \n                        placeholder=\"Título do caso\"\n                        value={title}\n                        onChange={e => setTitle(e.target.value)}\n                    />\n                    <textarea \n                        placeholder=\"Descrição\"\n                        value={description}\n                        onChange={e => setDescription(e.target.value)}\n                    />\n                    <input \n                        placeholder=\"Preencha o valor sem vírgulas, ex: 100\"\n                        value={value}\n                        onChange={e => setValue(e.target.value)}\n                    />\n\n                    <button className=\"button\" type=\"submit\">Cadastrar</button>\n                </form>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}